-7 2.00000 root ssd_default
-2 1.00000     host ceph-osd2
 0 0.09000         osd.0           up  1.00000          1.00000
 2 0.09000         osd.2           up  1.00000          1.00000
-3 1.00000     host ceph-osd1
 1 0.09000         osd.1           up  1.00000          1.00000
 3 0.09000         osd.3           up  1.00000          1.00000

PG Dumps
----------------
osd.4   0
osd.5   0
osd.6   0
osd.7   0
osd.0   18
osd.1   20
osd.2   14
osd.3   12
----------------
Total:  64

# buckets
host ceph-osd2 {
id -2	# do not change unnecessarily
# weight 0.180
alg straw
hash 0	# rjenkins1
item osd.0 weight 0.090
item osd.2 weight 0.090
}
host ceph-osd1 {
id -3	# do not change unnecessarily
# weight 0.180
alg straw
hash 0	# rjenkins1
item osd.1 weight 0.090
item osd.3 weight 0.090
}

root ssd_default {
id -7	# do not change unnecessarily
# weight 2.00
alg straw
hash 0	# rjenkins1
item ceph-osd2 weight 1.000
item ceph-osd1 weight 1.000
}

rule replicated_ssd_ruleset {
ruleset 2
type replicated
min_size 1
max_size 10
step take ssd_default
step chooseleaf firstn 0 type host
step emit
}

[ ———————————————————————— WRITE ———————————————————————— ]
filename: /dev/rbd1, rw: write, bs: 4k, rwmixread: 100, iodepth: 16, numjobs: 1
----------------
Step-1 iops=462
Step-2 iops=476
Step-3 iops=478
Step-4 iops=486
Step-5 iops=474
Step-6 iops=470
Step-7 iops=474
Step-8 iops=479
Step-9 iops=480
Step-10 iops=486
----------------
IOPS - AVG: 476 MIX: 462 MAX: 486

filename: /dev/rbd1, rw: write, bs: 4k, rwmixread: 100, iodepth: 16, numjobs: 2
----------------
 Step-1 iops=884
 Step-2 iops=899
 Step-3 iops=884
 Step-4 iops=902
 Step-5 iops=891
 Step-6 iops=905
 Step-7 iops=904
 Step-8 iops=907
 Step-9 iops=871
Step-10 iops=892
----------------
IOPS - AVG: 893 MIX: 871 MAX: 907

filename: /dev/rbd1, rw: write, bs: 4k, rwmixread: 100, iodepth: 16, numjobs: 4
----------------
 Step-1 iops=1403
 Step-2 iops=1327
 Step-3 iops=1390
 Step-4 iops=1306
 Step-5 iops=1406
 Step-6 iops=1305
 Step-7 iops=1299
 Step-8 iops=1287
 Step-9 iops=1330
Step-10 iops=1421
----------------
IOPS - AVG: 1347 MIX: 1287 MAX: 1421

filename: /dev/rbd1, rw: write, bs: 4k, rwmixread: 100, iodepth: 16, numjobs: 8
----------------
 Step-1 iops=1355
 Step-2 iops=1277
 Step-3 iops=1344
 Step-4 iops=1324
 Step-5 iops=1357
 Step-6 iops=1315
 Step-7 iops=1345
 Step-8 iops=1408
 Step-9 iops=1340
Step-10 iops=1353
----------------
IOPS - AVG: 1341 MIX: 1277 MAX: 1408

filename: /dev/rbd1, rw: write, bs: 4k, rwmixread: 100, iodepth: 16, numjobs: 16
----------------
 Step-1 iops=1305
 Step-2 iops=1362
 Step-3 iops=1302
 Step-4 iops=1307
 Step-5 iops=1304
 Step-6 iops=1288
 Step-7 iops=1268
 Step-8 iops=1336
 Step-9 iops=1239
Step-10 iops=1265
----------------
IOPS - AVG: 1297 MIX: 1239 MAX: 1362

[ ———————————————————————— READ ———————————————————————— ]

filename: /dev/rbd1, rw: read, bs: 4k, rwmixread: 100, iodepth: 16, numjobs: 1
----------------
 Step-1 iops=12665
 Step-2 iops=12851
 Step-3 iops=13108
 Step-4 iops=13121
 Step-5 iops=13146
 Step-6 iops=13229
 Step-7 iops=13205
 Step-8 iops=13201
 Step-9 iops=13280
Step-10 iops=13264
----------------
IOPS - AVG: 13107 MIX: 12665 MAX: 13280

filename: /dev/rbd1, rw: read, bs: 4k, rwmixread: 100, iodepth: 16, numjobs: 2
----------------
 Step-1 iops=15074
 Step-2 iops=13765
 Step-3 iops=14254
 Step-4 iops=15348
 Step-5 iops=14009
 Step-6 iops=16497
 Step-7 iops=15309
 Step-8 iops=13639
 Step-9 iops=14287
Step-10 iops=15858
----------------
IOPS - AVG: 14804 MIX: 13639 MAX: 16497

filename: /dev/rbd1, rw: read, bs: 4k, rwmixread: 100, iodepth: 16, numjobs: 4
----------------
 Step-1 iops=26665
 Step-2 iops=25623
 Step-3 iops=25415
 Step-4 iops=26809
 Step-5 iops=25494
 Step-6 iops=26198
 Step-7 iops=26378
 Step-8 iops=25837
 Step-9 iops=24292
Step-10 iops=25487
----------------
IOPS - AVG: 25819 MIX: 24292 MAX: 26809

filename: /dev/rbd1, rw: read, bs: 4k, rwmixread: 100, iodepth: 16, numjobs: 8
----------------
 Step-1 iops=26733
 Step-2 iops=28416
 Step-3 iops=26021
 Step-4 iops=27243
 Step-5 iops=28591
 Step-6 iops=28284
 Step-7 iops=27093
 Step-8 iops=28658
 Step-9 iops=28791
Step-10 iops=27982
----------------
IOPS - AVG: 27781 MIX: 26021 MAX: 28791

filename: /dev/rbd1, rw: read, bs: 4k, rwmixread: 100, iodepth: 16, numjobs: 16
----------------
 Step-1 iops=18899
 Step-2 iops=19418
 Step-3 iops=20225
 Step-4 iops=20194
 Step-5 iops=19787
 Step-6 iops=20472
 Step-7 iops=22033
 Step-8 iops=19172
 Step-9 iops=22369
Step-10 iops=20768
----------------
IOPS - AVG: 20333 MIX: 18899 MAX: 22369

[ ———————————————————————— RAND-WRITE ———————————————————————— ]

filename: /dev/rbd1, rw: randwrite, bs: 4k, rwmixread: 100, iodepth: 16, numjobs: 1
----------------
 Step-1 iops=269
 Step-2 iops=263
 Step-3 iops=238
 Step-4 iops=266
 Step-5 iops=242
 Step-6 iops=270
 Step-7 iops=259
 Step-8 iops=242
 Step-9 iops=273
Step-10 iops=253
----------------
IOPS - AVG: 257 MIX: 238 MAX: 273

filename: /dev/rbd1, rw: randwrite, bs: 4k, rwmixread: 100, iodepth: 16, numjobs: 2
----------------
 Step-1 iops=286
 Step-2 iops=282
 Step-3 iops=260
 Step-4 iops=287
 Step-5 iops=268
 Step-6 iops=255
 Step-7 iops=294
 Step-8 iops=272
 Step-9 iops=244
Step-10 iops=282
----------------
IOPS - AVG: 273 MIX: 244 MAX: 294

filename: /dev/rbd1, rw: randwrite, bs: 4k, rwmixread: 100, iodepth: 16, numjobs: 4
----------------
 Step-1 iops=281
 Step-2 iops=287
 Step-3 iops=251
 Step-4 iops=296
 Step-5 iops=303
 Step-6 iops=283
 Step-7 iops=241
 Step-8 iops=296
 Step-9 iops=302
Step-10 iops=267
----------------
IOPS - AVG: 280 MIX: 241 MAX: 303

filename: /dev/rbd1, rw: randwrite, bs: 4k, rwmixread: 100, iodepth: 16, numjobs: 8
----------------
 Step-1 iops=280
 Step-2 iops=276
 Step-3 iops=282
 Step-4 iops=272
 Step-5 iops=263
 Step-6 iops=285
 Step-7 iops=286
 Step-8 iops=247
 Step-9 iops=282
Step-10 iops=290
----------------
IOPS - AVG: 276 MIX: 247 MAX: 290

filename: /dev/rbd1, rw: randwrite, bs: 4k, rwmixread: 100, iodepth: 16, numjobs: 16
----------------
 Step-1 iops=296
 Step-2 iops=277
 Step-3 iops=280
 Step-4 iops=304
 Step-5 iops=276
 Step-6 iops=266
 Step-7 iops=289
 Step-8 iops=296
 Step-9 iops=292
Step-10 iops=261
----------------
IOPS - AVG: 283 MIX: 261 MAX: 304

[ ———————————————————————— RAND-READ ———————————————————————— ]
filename: /dev/rbd1, rw: randread, bs: 4k, rwmixread: 100, iodepth: 16, numjobs: 1
----------------
 Step-1 iops=11396
 Step-2 iops=11890
 Step-3 iops=12236
 Step-4 iops=12381
 Step-5 iops=12503
 Step-6 iops=12570
 Step-7 iops=12381
 Step-8 iops=12553
 Step-9 iops=12282
Step-10 iops=12294
----------------
IOPS - AVG: 12248 MIX: 11396 MAX: 12570

filename: /dev/rbd1, rw: randread, bs: 4k, rwmixread: 100, iodepth: 16, numjobs: 2
----------------
 Step-1 iops=22424
 Step-2 iops=22488
 Step-3 iops=22580
 Step-4 iops=22525
 Step-5 iops=22550
 Step-6 iops=22799
 Step-7 iops=22825
 Step-8 iops=22789
 Step-9 iops=22718
Step-10 iops=22654
----------------
IOPS - AVG: 22635 MIX: 22424 MAX: 2282

filename: /dev/rbd1, rw: randread, bs: 4k, rwmixread: 100, iodepth: 16, numjobs: 4
----------------
 Step-1 iops=25508
 Step-2 iops=26589
 Step-3 iops=26366
 Step-4 iops=26800
 Step-5 iops=26761
 Step-6 iops=26720
 Step-7 iops=26766
 Step-8 iops=26781
 Step-9 iops=26762
Step-10 iops=26602
----------------
IOPS - AVG: 26565 MIX: 25508 MAX: 26800

filename: /dev/rbd1, rw: randread, bs: 4k, rwmixread: 100, iodepth: 16, numjobs: 8
----------------
 Step-1 iops=27994
 Step-2 iops=28412
 Step-3 iops=28622
 Step-4 iops=28579
 Step-5 iops=28616
 Step-6 iops=28865
 Step-7 iops=28738
 Step-8 iops=28724
 Step-9 iops=28650
Step-10 iops=28655
----------------
IOPS - AVG: 28585 MIX: 27994 MAX: 28865

filename: /dev/rbd1, rw: randread, bs: 4k, rwmixread: 100, iodepth: 16, numjobs: 16
----------------
 Step-1 iops=27612
 Step-2 iops=28478
 Step-3 iops=29068
 Step-4 iops=28687
 Step-5 iops=28626
 Step-6 iops=28682
 Step-7 iops=28680
 Step-8 iops=28779
 Step-9 iops=28715
Step-10 iops=28588
----------------
IOPS - AVG: 28591 MIX: 27612 MAX: 29068
